{% extends "base.html" %}
{% block content %}
<h2>Чат с {{ other_user.username }}</h2>

<div class="chat-box" style="border:1px solid #ccc; padding:10px; max-height:400px; overflow-y:auto;">
  {% for msg in messages %}
    <div style="margin-bottom:10px; {% if msg.sender == request.user %}text-align:right;{% endif %}">
      <strong>{{ msg.sender.username }}:</strong> {{ msg.content }}
      <div style="font-size: 0.8em; color: gray;">{{ msg.timestamp|date:"H:i d.m.Y" }}</div>
    </div>
  {% empty %}
    <p>Нет сообщений.</p>
  {% endfor %}
</div>

<form method="post" style="margin-top:10px;">
  {% csrf_token %}
  <input type="text" name="content" placeholder="Введите сообщение..." class="form-control" required>
  <button type="submit" class="btn btn-primary" style="margin-top:5px;">Отправить</button>
</form>
{% endblock %}
